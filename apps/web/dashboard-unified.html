<!DOCTYPE html>
<html lang="de" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Toobix Unified - Dashboard</title>
  <meta name="description" content="Dein persÃ¶nliches Lebens-Ã–kosystem">
  <link rel="stylesheet" href="dashboard-unified.css">
  <!-- External Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>
<body>
  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <div class="app-container">
    <!-- Pomodoro Timer Widget (Floating) -->
    <div class="pomodoro-widget" id="pomodoroWidget">
      <div class="pomodoro-header">
        <span class="pomodoro-icon">ğŸ…</span>
        <button class="pomodoro-minimize" onclick="togglePomodoro()">âˆ’</button>
      </div>
      <div class="pomodoro-content" id="pomodoroContent">
        <div class="pomodoro-timer" id="pomodoroTimer">25:00</div>
        <div class="pomodoro-label" id="pomodoroLabel">Focus Time</div>
        <div class="pomodoro-controls">
          <button class="btn-icon" onclick="startPomodoro()" id="pomodoroStart">â–¶ï¸</button>
          <button class="btn-icon" onclick="pausePomodoro()" id="pomodoroPause" style="display:none;">â¸ï¸</button>
          <button class="btn-icon" onclick="resetPomodoro()">ğŸ”„</button>
        </div>
        <div class="pomodoro-stats">
          <span id="pomodoroCount">0</span> ğŸ… today
        </div>
      </div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header" onclick="navigateTo('dashboard')">
        <div class="sidebar-logo">ğŸŒŒ</div>
        <div class="sidebar-title">
          <h1>Toobix</h1>
          <p>Dein Ã–kosystem</p>
        </div>
      </div>

      <nav>
        <div class="nav-section">
          <div class="nav-section-title">Hauptbereich</div>
          <div class="nav-item active" data-view="dashboard" onclick="navigateTo('dashboard')">
            <span class="nav-icon">ğŸ“Š</span>
            <span>Dashboard</span>
          </div>
          <div class="nav-item" data-view="moments" onclick="navigateTo('moments')">
            <span class="nav-icon">âœ¨</span>
            <span>Moments</span>
            <span class="nav-badge" id="momentsCount">0</span>
          </div>
          <div class="nav-item" data-view="daily" onclick="navigateTo('daily')">
            <span class="nav-icon">ğŸ“</span>
            <span>Daily Companion</span>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">ProduktivitÃ¤t</div>
          <div class="nav-item" data-view="tasks" onclick="navigateTo('tasks')">
            <span class="nav-icon">âœ…</span>
            <span>Tasks & Goals</span>
            <span class="nav-badge" id="tasksCount">0</span>
          </div>
          <div class="nav-item" data-view="habits" onclick="navigateTo('habits')">
            <span class="nav-icon">ğŸ”¥</span>
            <span>Habits & Streaks</span>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Insights</div>
          <div class="nav-item" data-view="analytics" onclick="navigateTo('analytics')">
            <span class="nav-icon">ğŸ“ˆ</span>
            <span>Analytics</span>
          </div>
          <div class="nav-item" data-view="memory" onclick="navigateTo('memory')">
            <span class="nav-icon">ğŸ§ </span>
            <span>Memory System</span>
          </div>
          <div class="nav-item" data-view="monitor" onclick="navigateTo('monitor')">
            <span class="nav-icon">ğŸ–¥ï¸</span>
            <span>System Monitor</span>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">KI & Beziehungen</div>
          <div class="nav-item" data-view="luna" onclick="navigateTo('luna')">
            <span class="nav-icon">ğŸ¤–</span>
            <span>Luna Chatbot</span>
          </div>
          <div class="nav-item" data-view="people" onclick="navigateTo('people')">
            <span class="nav-icon">ğŸ‘¥</span>
            <span>People & Circles</span>
          </div>
          <div class="nav-item" data-view="diary" onclick="navigateTo('diary')">
            <span class="nav-icon">ğŸ“”</span>
            <span>System Diary</span>
          </div>
          <div class="nav-item" data-view="sandbox" onclick="navigateTo('sandbox')">
            <span class="nav-icon">ğŸª</span>
            <span>AI Sandbox</span>
            <span class="nav-badge badge-pulse" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">NEW</span>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Unterhaltung</div>
          <div class="nav-item" data-view="story-idle" onclick="navigateTo('story-idle')">
            <span class="nav-icon">ğŸ“–</span>
            <span>Story-Idle Game</span>
            <span class="nav-badge badge-pulse" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">NEW</span>
          </div>
          <div class="nav-item" data-view="blockworld" onclick="navigateTo('blockworld')">
            <span class="nav-icon">â›ï¸</span>
            <span>BlockWorld</span>
            <span class="nav-badge badge-pulse" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">NEW</span>
          </div>
          <div class="nav-item" data-view="games" onclick="navigateTo('games')">
            <span class="nav-icon">ğŸ®</span>
            <span>Spielebibliothek</span>
          </div>
          <div class="nav-item" data-view="achievements" onclick="navigateTo('achievements')">
            <span class="nav-icon">ğŸ†</span>
            <span>Achievements</span>
            <span class="nav-badge badge-pulse" id="achievementsCount">0</span>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">System</div>
          <div class="nav-item" data-view="settings" onclick="navigateTo('settings')">
            <span class="nav-icon">âš™ï¸</span>
            <span>Einstellungen</span>
          </div>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
      <!-- Top Bar -->
      <div class="top-bar">
        <div class="top-bar-left">
          <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
          <div class="search-bar">
            <span class="search-icon">ğŸ”</span>
            <input type="text" class="search-input" placeholder="Suche in Toobix..." id="searchInput">
          </div>
        </div>
        <div class="top-bar-right">
          <button class="icon-button" onclick="toggleTheme()" title="Theme wechseln">
            <span id="themeIcon">ğŸŒ™</span>
          </button>
          <button class="icon-button" onclick="showNotifications()" title="Benachrichtigungen">
            ğŸ””
            <span class="badge" id="notificationBadge">3</span>
          </button>
          <button class="icon-button" onclick="navigateTo('settings')" title="Profil">
            ğŸ‘¤
          </button>
        </div>
      </div>

      <!-- Content Area -->
      <div class="content" id="content">
        <!-- Views will be loaded here dynamically -->
      </div>
    </main>
  </div>

  <script src="dashboard-unified.js"></script>
</body>
</html>
